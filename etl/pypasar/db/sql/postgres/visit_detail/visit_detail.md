# Table name: Visit Detail

### Reading from post_op__icu
![image9](https://github.com/user-attachments/assets/69a0ff34-dd68-4282-bdac-3ac6130a57c6)

| | Destination field | Source field | Logic | Comment field |
| --- | --- | --- | --- | --- |
| 1 | visit_detail_id | id <br> session_startdate |Autogenerated number for each row in ascending order of `session_startdate` and `id`.<br><br>ROW_NUMBER() OVER (ORDER by session_startdate, id) AS visit_detail_id | |
| 2 | person_id | anon_case_no | Join with person.person_source_value for the `person_id` | |
| 3 | visit_detail_concept_id | <i style="color:gray;">NULL</i> | Intensive Care -> 32037 | |
| 4 | visit_detail_start_date | icu_admission_date | | **Contains NULL values; consider dropping it |
| 5 | visit_detail_start_datetime | icu_admission_time | Concatenate date and time fields | Set default time to 00:00:00 |
| 6 | visit_detail_end_date | icu_discharge_date | | **Contains NULL values; consider dropping it. |
| 7 | visit_detail_end_datetime | icu_discharge_time | Concatenate date and time fields | Set default time to 00:00:00 |
| 8 | visit_detail_type_concept_id | <i style="color:gray;">NULL</i> | Registry -> 32879 | |
| 9 | provider_id | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 10 | care_site_id | icu_location | Join with care_site.care_site_source_value for the `care_site_id` | |
| 11 | visit_detail_source_value | <i style="color:gray;">NULL</i> | ICU | |
| 12 | admitted_from_concept_id | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 13 | admitted_from_source_value | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 14 | discharged_to_source_value | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 15 | discharged_to_concept_id | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 16 | preceding_visit_detail_id | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 17 | parent_visit_detail_id | <i style="color:gray;">NULL</i> | <i style="color:gray;">NULL</i> |
| 18 | visit_occurrence_id | session_id | Join with visit_occurrence.session_id  for the `visit_occurrence_id`. <br> To map `visit_occurrence_id` back to the original `session_id`, use this code: <br><br> CAST(LEFT(CAST(visit_occurrence_id AS TEXT), LENGTH(CAST(visit_occurrence_id AS TEXT)) - 2) AS INTEGER) AS session_id | |